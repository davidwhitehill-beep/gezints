<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=1, user-scalable=no" />
  <title>Gezint Sisterhood 1818 — Match-3</title>
  <meta property="og:image" content="splash.png" />

  <style>
    :root{
      --bg: #071a1f;
      --panel: rgba(10, 24, 28, .78);
      --gold: #f5d27b;
      --tile: 64px;
      --gap: 4px;
      --cols: 8;
      --rows: 8;
      --sprite-cols: 4;
      --sprite-rows: 4;
      --radius: 8px;
      --shadow: 0 18px 55px rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:#fff;
      background: radial-gradient(1200px 800px at 40% -10%, #123c45 0%, var(--bg) 55%, #041013 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 14px;
      overflow:hidden;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
      touch-action: none;
    }
    .sparkles{
      position:fixed; inset:-40px;
      pointer-events:none;
      opacity:.22;
      background:
        radial-gradient(2px 2px at 12% 21%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(2px 2px at 62% 8%, rgba(255,255,255,.6) 40%, transparent 41%),
        radial-gradient(1px 1px at 86% 33%, rgba(255,255,255,.6) 40%, transparent 41%),
        radial-gradient(2px 2px at 28% 71%, rgba(255,255,255,.55) 40%, transparent 41%),
        radial-gradient(1px 1px at 48% 52%, rgba(255,255,255,.55) 40%, transparent 41%),
        radial-gradient(2px 2px at 78% 76%, rgba(255,255,255,.5) 40%, transparent 41%),
        radial-gradient(1px 1px at 9% 86%, rgba(255,255,255,.5) 40%, transparent 41%);
      filter: blur(.1px);
      animation: drift 18s linear infinite;
    }
    @keyframes drift{ from{ transform:translateY(0);} to{ transform:translateY(40px);} }

    .app{ width:min(980px, 100%); display:grid; grid-template-columns: 1fr; gap: 6px; position:relative; z-index:1; touch-action: none;}
    .topbar{ display:flex; gap:6px; align-items:stretch; justify-content:start; flex-wrap:wrap;touch-action: none;  
          }

    .panel{
      background: var(--panel);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      touch-action: none;
    }

    .hud{ display:flex; align-items:center; gap: 12px; padding: 12px 14px; flex: 1; min-width: 260px;touch-action: none;}
    .hud h1{
      margin:0; font-size: 24px; letter-spacing:.4px; font-weight: 1600;
      color: #3399ff; text-shadow: 22 22 8 yellow; white-space:nowrap;
    }
    .hud .meta{ display:flex; align-items:flex-end; gap: 10px; margin-left:auto; flex-wrap:wrap; justify-content:flex-end;touch-action: none;}
    .pill{
      display:flex; gap:8px; align-items:center; padding: 8px 10px; border-radius: 999px;
      background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.10);
      font-weight: 700; font-size: 13px;
    }

    .pill b{ color: var(--gold); }

    .pill c{ font-size: 18px; color:red; }

   .rewardtile{
      width: 100%; height: 100%;
      background-image: url("gezintladies.png");background-position: center; background-size: contain;background-repeat: no-repeat;
    }

    .btn{
      appearance:none; border: 0; padding: 10px 14px; border-radius: 12px;
      background: linear-gradient(#2aa86c, #177a4c);
      color:#fff; font-weight: 900; letter-spacing:.3px;
      box-shadow: 0 10px 24px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.25);
      cursor:pointer; touch-action: manipulation; white-space:nowrap;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }
    .btn.secondary{ background: linear-gradient(#3f5660, #2b3e46); }

    .board-wrap{ display:grid; grid-template-columns: 1fr; gap: 2px; padding: 2px; position:relative; overflow:hidden;touch-action: none;place-items: center; }

    .board-wrap::before{
      content:""; position:absolute; inset:0;
      opacity:.35; filter: saturate(1.1) contrast(2.05); transform: scale(1.03);touch-action: none;
    }

    .board-wrap::after{
      content:""; position:absolute; inset:0;
      background: radial-gradient(900px 520px at 50% 10%, rgba(255,215,120,.20), transparent 55%),
                  linear-gradient(to bottom, rgba(0,0,0,.08), rgba(0,0,0,.30));
      pointer-events:none;place-items: center; touch-action: none;
    }

    .board{
      position:relative; z-index:1; width: 100%; max-width: 560px; margin: 5 auto;
      display:grid; grid-template-columns: repeat(var(--cols), var(--tile));
      grid-template-rows: repeat(var(--rows), var(--tile));
      gap: var(--gap); padding: 2px; border-radius: 12px;
      background: rgba(255, 255, 255,.25); border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 18px 55px rgba(0,0,0,.35);
      touch-action: none; place-items: center;
      justify-content: center;
    }

    .cell{
      width: var(--tile); height: var(--tile); border-radius: 4px;
      position:relative; display:grid; place-items:center;
      background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.08);
      overflow:hidden;
      touch-action: none;
    }

    .tile{
      width: 100%; height: 100%; border-radius: 4px; position:relative;
      background-image: url("icons.png");
      background-repeat:no-repeat;
      background-size: calc(var(--sprite-cols) * 100%) calc(var(--sprite-rows) * 100%);
      background-position: var(--bx, 0%) var(--by, 0%);
      filter: drop-shadow(0 10px 12px rgba(0,0,0,.25));
      transition: transform 160ms ease, filter 160ms ease, opacity 160ms ease;
      cursor:pointer;
      transform: translateY(0);
      touch-action: manipulation;
      opacity: 1;
    }

    .tile::after{
      content:""; position:absolute; inset:0;
      background-image: url("icons%20glow.png");
      background-repeat:no-repeat;
      background-size: calc(var(--sprite-cols) * 100%) calc(var(--sprite-rows) * 100%);
      background-position: var(--bx, 0%) var(--by, 0%);
      opacity: .0; transition: opacity 160ms ease;
      mix-blend-mode: screen; pointer-events:none;
    }

    .tile.power::before{
      content:"";
      position:absolute; inset:-8px;
      border-radius: 8px;
      background: radial-gradient(circle at 35% 35%, rgba(255,215,120,.55), transparent 55%),
                  radial-gradient(circle at 70% 70%, rgba(80,210,255,.45), transparent 55%);
      filter: blur(2px);
      opacity: .85;
      pointer-events:none;
      animation: aura 1.2s ease-in-out infinite;
    }
    @keyframes aura{ 0%,100%{ transform: scale(1); opacity:.75;} 50%{ transform: scale(1.04); opacity:.95;} }

    .tile.row::before{ background: radial-gradient(circle, rgba(255,215,120,.55), transparent 60%); }
    .tile.col::before{ background: radial-gradient(circle, rgba(140,240,200,.50), transparent 60%); }
    .tile.bomb::before{ background: radial-gradient(circle, rgba(255,120,170,.55), transparent 60%); }

    .cell:hover .tile::after{ opacity:.70; }

    .cell.selected{
      outline: 3px solid rgba(255, 219, 130, .85);
      outline-offset: 1px;
      box-shadow: 0 0 0 2px rgba(0,0,0,.15), 0 0 24px rgba(255,219,130,.35);
    }
    .cell.selected .tile{ transform: scale(1.06); filter: drop-shadow(0 14px 18px rgba(0,0,0,.32)); }
    .cell.selected .tile::after{ opacity:.85; }

    .tile.pop{ animation: pop 220ms ease; }
    @keyframes pop{ 0%{ transform: scale(1); } 40%{ transform: scale(1.14); } 100%{ transform: scale(1); } }

    .tile.clearing{ animation: clear 240ms ease forwards; }
    @keyframes clear{
      0%{ transform: scale(1); opacity:1; }
      70%{ transform: scale(1.25); opacity:.45; }
      100%{ transform: scale(.65); opacity:0; }
    }

    .note{
      position:relative; z-index:1; max-width: 560px; margin: 0 auto;
      padding: 10px 12px; border-radius: 14px;
      background: rgba(0,0,0,.24); border: 1px solid rgba(255,255,255,.10);
      font-size: 13px; line-height: 1.35; color: rgba(255,255,255,.88);
    }
    .note b{ color: #ffe7b1; }

    .overlay{
      position:fixed; inset:0; display:grid; place-items:center;
      background: rgba(0,0,0,.55); z-index: 50; padding: 14px;
    }
    .title-card{
      pointer-events: auto;
      width: min(560px, 92vw);
      border-radius: 22px; overflow:hidden;
      box-shadow: 0 24px 90px rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      position:relative;
    }
    .title-image{
      width:100%;
      aspect-ratio: 1365 / 2048;
      background: url("title_screen.png") center/cover no-repeat;
    }
    .title-hotspot{
      z-index: 5;
      pointer-events: auto;
      position:absolute;
      left: 19%;
      right: 19%;
      top: 63.5%;
      height: 10.5%;
      border-radius: 22px;
      cursor:pointer;
      background: rgba(255,255,255,0);
    }
    .title-hotspot:active{ outline: 3px solid rgba(255,219,130,.55); outline-offset: 2px; }

    .title-actions{
      display:flex; gap:10px; padding: 12px;
      background: rgba(0,0,0,.30);
      align-items:center; justify-content:space-between; flex-wrap:wrap;
    }
    .title-actions .small{ font-size: 12px; opacity:.88; }

    
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.68);
      border: 1px solid rgba(255,255,255,.14);
      padding: 10px 12px;
      border-radius: 999px;
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      font-weight: 800;
      letter-spacing: .2px;
      opacity: 0;
      pointer-events:none;
      transition: opacity 160ms ease, transform 160ms ease;
      z-index: 80;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-2px);
    }

    
    .btn.danger{
      background: linear-gradient(#d45050, #9f2b2b);
      box-shadow: 0 10px 24px rgba(0,0,0,.28), 0 0 0 2px rgba(255,120,120,.18), 0 0 22px rgba(255,70,70,.22);
    }


.sweet-title {
  font-weight: 900;
  text-transform: uppercase;
  font-size: clamp(2rem, 8vw, 3rem);
  line-height: 1.05em;
  text-align: left;
  text-shadow: 3px 1px 1px #4af7ff, 2px 2px 1px #165bfb, 4px 2px 1px #4af7ff,
    3px 3px 1px #165bfb, 5px 3px 1px #4af7ff, 4px 4px 1px #165bfb,
    6px 4px 1px #4af7ff, 5px 5px 1px #165bfb, 7px 5px 1px #4af7ff,
    6px 6px 1px #165bfb, 8px 6px 1px #4af7ff, 7px 7px 1px #165bfb,
    9px 7px 1px #4af7ff;

  span {
    display: flex;
    position: relative;

    &:before {
      content: attr(data-text);
      position: absolute;
      text-shadow: 2px 2px 1px #165bfb, -1px -1px 1px #165bfb,
        -2px 2px 1px #165bfb, 1px -1px 1px #165bfb;
      z-index: 1;
    }

    &:nth-child(1) {
      padding-right: 0.0rem;
    }

    &:nth-child(2) {
      padding-left: 0.0rem;
    }
  }
}

    
    /* Stronger powerup glimmer */
    .tile.power::before{
      opacity: .98;
      filter: blur(3px) saturate(1.6);
      animation: aura 0.9s ease-in-out infinite;
    }
    .tile.power::after{
      opacity: .95 !important;
    }
    .tile.power{
      animation: powerGlimmer 1.1s ease-in-out infinite;
    }
    @keyframes powerGlimmer{
      0%{ transform: scale(1); filter: drop-shadow(0 10px 12px rgba(0,0,0,.25)); }
      50%{ transform: scale(1.02); filter: drop-shadow(0 16px 22px rgba(255,215,120,.40)) drop-shadow(0 0 14px rgba(120,220,255,.28)); }
      100%{ transform: scale(1); filter: drop-shadow(0 10px 12px rgba(0,0,0,.25)); }
    }
    /* Sparkly sweep overlay */
    .tile.power .sweep{ display:none; }
    .tile.power::before{
      box-shadow: 0 0 14px rgba(255,215,120,.28), 0 0 18px rgba(120,220,255,.18);
    }
    .tile.power::after{
      mix-blend-mode: screen;
    }
    .tile.power::after{
      background-image:
        linear-gradient(115deg, transparent 0%, rgba(255,255,255,.10) 42%, rgba(255,255,255,.55) 50%, rgba(255,255,255,.10) 58%, transparent 100%),
        url("icons%20glow.png");
      background-repeat: no-repeat, no-repeat;
      background-size: 140% 140%, calc(var(--sprite-cols) * 100%) calc(var(--sprite-rows) * 100%);
      background-position: -150% 50%, var(--bx, 0%) var(--by, 0%);
      animation: sweep 1.5s ease-in-out infinite;
      content:"";
    }
    @keyframes sweep{
      0%{ background-position: -150% 50%, var(--bx, 0%) var(--by, 0%); opacity:.35; }
      40%{ opacity:.55; }
      100%{ background-position: 250% 50%, var(--bx, 0%) var(--by, 0%); opacity:.35; }
    }

    
    #milestone{
      z-index: 90;
      background: rgba(0,0,0,.62);
    }

    @media (max-width: 520px){
      :root{ --gap: 5px; }
      .hud h1{ font-size: 14px; }
      .board{ padding: 8px; }
      .note{ font-size: 12.5px; }
    }
  </style>
</head>
<body>
  <div class="sparkles" aria-hidden="true"></div>
  <div class="toast" id="toast">No moves — shuffling…</div>

  <div class="overlay" id="overlay">
    <div class="title-card">
      <div class="title-image" aria-label="Gezint Sisterhood 1818 title screen"></div>
      <div class="title-hotspot" id="titlePlayHotspot" aria-label="Play"></div>
      <div class="title-actions">
        <div class="small">Match 3+ icons to gather <b>gezint energy</b>. Tap-tap or swipe to swap.</div>
        <div style="display:flex; gap:10px;">
          <button class="btn" id="startBtn">Play</button>
          <button class="btn secondary" id="howBtn" type="button">How</button>
        </div>
      </div>
    </div>
  </div>


  <div class="overlay" id="milestone" style="display:none;">
 <div class ="rewardtile"></div>
     <div class="panel" style="max-width:560px; width:min(560px, 92vw); padding:18px; text-align:center;>
     
     <div style="margin-top:8px; font-weight:900; font-size:20px; color:#fff6d5; text-shadow:0 2px 0 rgba(0,0,0,.25);">You have reached 1,800 Gezint points!<br>
     <div style="font-weight:900; font-size:24px; letter-spacing:.3px; color:#ffe7b1; text-shadow:0 2px 0 rgba(0,0,0,.35);">Idee says: You have earned your gezints!</div>
   
      <div style="margin-top:10px; opacity:.9;">Keep matching for extra gezint energy.</div>
      <div style="margin-top:14px;">
        <button class="btn" id="milestoneOkBtn" type="button">Continue</button>
      </div>
    </div>
  </div>

  <div class="app">
    <div class="topbar">
      <div class="panel hud">

 <h2 class="sweet-title">
      <span data-text="Gezint">Gezint</span>
      <span data-text="Sister">Sister</span>
      <span data-text=" hood"> hood</span>
      <span data-text="1818">1818</span>
    </h2>

        <div class="meta">
          <div class="pill";><c>Gezint Energy:</c><b id="score">0</b></div>
          <div class="pill">Moves: <b id="moves">0</b> Shuffles: <b id="shuffles">3</b></div>
          <button class="btn secondary" id="shuffleBtn" type="button">Shuffle</button>
          <button class="btn secondary" id="restartBtn" type="button">Restart</button>
        </div>
      </div>
    </div>

    <div class="panel board-wrap">
    <div class="board" id="board" role="grid" aria-label="Match-3 board"></div>
    </div>
  </div>

<script src="game.js"></script>
</body>
</html>